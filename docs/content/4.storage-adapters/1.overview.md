---
title: Overview
description: Overview of storage adapters for uploading files to cloud providers.
navigation:
  icon: i-lucide-book-open
---

# Storage Adapters

Storage adapters handle uploading, downloading, and deleting files from remote storage providers.

## Available Adapters

| Provider             | Adapter                  | Auth Method      | Import Path | Status       |
| -------------------- | ------------------------ | ---------------- | ----------- | ------------ |
| AWS S3               | `PluginAWSS3`            | Presigned URLs   | `nuxt-upload-kit/providers/aws-s3` | Experimental |
| Cloudflare R2        | `PluginCloudflareR2`     | Presigned URLs   | `nuxt-upload-kit/providers/cloudflare-r2` | Experimental |
| Azure Data Lake      | `PluginAzureDataLake`    | SAS URL          | `nuxt-upload-kit/providers/azure-datalake` | Available    |
| Firebase Storage     | `PluginFirebaseStorage`  | Firebase SDK     | `nuxt-upload-kit/providers/firebase` | Experimental |
| Google Cloud Storage | -                        | -                | - | Coming soon  |

::prose-callout{type="info" title="Provider Imports"}
All storage adapters are imported from `nuxt-upload-kit/providers/*`. This keeps the main package lightweight and only bundles the providers you actually use.
::

## Using Storage Adapters

Configure a storage adapter using the `storage` option:

```ts
import { PluginAWSS3 } from "nuxt-upload-kit/providers/aws-s3"

const uploader = useUploadKit({
  storage: PluginAWSS3({
    getPresignedUploadUrl: async (fileId, contentType, metadata) => {
      const response = await fetch("/api/s3/presign", {
        method: "POST",
        body: JSON.stringify({ key: fileId, contentType, ...metadata }),
      })
      return response.json() // { uploadUrl, publicUrl }
    },
  }),
})
```

::prose-tip
Only one storage adapter can be active at a time. The `storage` option takes precedence over any storage adapters in the `plugins` array.
::

## Without Storage Adapters

If you don't use a storage adapter, implement upload logic with `onUpload`:

```ts
const uploader = useUploadKit()

uploader.onUpload(async (file, onProgress) => {
  const formData = new FormData()
  formData.append("file", file.data as Blob)

  // Use XMLHttpRequest for progress tracking
  return new Promise((resolve, reject) => {
    const xhr = new XMLHttpRequest()

    xhr.upload.onprogress = (e) => {
      if (e.lengthComputable) {
        onProgress(Math.round((e.loaded / e.total) * 100))
      }
    }

    xhr.onload = () => {
      if (xhr.status >= 200 && xhr.status < 300) {
        resolve(JSON.parse(xhr.response))
      } else {
        reject(new Error("Upload failed"))
      }
    }

    xhr.onerror = () => reject(new Error("Network error"))
    xhr.open("POST", "/api/upload")
    xhr.send(formData)
  })
})
```

## Storage Adapter Interface

All storage adapters implement the following hooks:

```ts
interface StoragePluginHooks {
  // Required: Upload a file
  upload: (file, context) => Promise<{ url: string; ... }>

  // Optional: Get remote file metadata
  getRemoteFile?: (fileId, context) => Promise<{
    size: number
    mimeType: string
    remoteUrl: string
    preview?: string
  }>

  // Optional: Delete a file
  remove?: (file, context) => Promise<void>
}
```

## Creating Custom Storage Adapters

See the [Custom Storage Adapters](/advanced/custom-storage-adapters) guide for creating your own storage adapter.
